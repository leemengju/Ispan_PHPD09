<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab</title>
    <!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->
    <!-- <script src="js/jquery.min.js"></script> -->
    <!-- <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script> -->


    <style>
        body {
            font-family: 'Microsoft JhengHei', "Microsoft YaHei", STHeiti, sans-serif;
        }
    </style>
</head>

<body>

    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">

        class App extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    userName: "Chien",
                    location: {
                        x: 100,
                        y: 200,
                        placeName: "TaiChung"
                    }
                };
            }
            render() {
                return (
                    <div>
                        UserName:{this.state.userName} <hr />
                        x:{this.state.location.x} <hr />
                        y:{this.state.location.y} <hr />
                        PlaceName:{this.state.location.placeName} <hr />
                        <button onClick={this.labButtonClickHandler}>
                            click me to change</button>
                    </div>
                )
            }
            labButtonClickHandler = () => {
                // 在 setState 中不能直接改變 state 內的物件屬性，否則 React 無法檢測變更，應該使用 擴展運算符（...） 創建新物件，確保 location 內的 y 和 placeName 不被覆蓋。
                let newState={...this.state};
                newState.location.x=2000;
            this.setState(newState);
            };
        }
        ReactDOM.render(
            <div className="container">
                <App />
            </div>,
            document.getElementById('root')
        );

    </script>

</body>

</html>